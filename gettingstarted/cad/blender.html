
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Blender &#8212; COMPAS 0.7.1 documentation</title>
    <link rel="stylesheet" href="../../_static/css/compas.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Grasshopper" href="grasshopper.html" />
    <link rel="prev" title="CAD Software" href="../cad.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="grasshopper.html" title="Grasshopper"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../cad.html" title="CAD Software"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">COMPAS 0.7.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../gettingstarted.html" >Getting started</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../cad.html" accesskey="U">CAD Software</a> &#187;</li> 
      </ul>
    </div>

                    

                    <div class="section" id="blender">
<h1>Blender</h1>
<p>Blender ships with its own embedded version of Python but it is relatively
simple to replace it with the one you have COMPAS installed on.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The latest releases of COMPAS only support Blender 2.8. This version of Blender
requires Python <cite>3.7.x</cite>.</p>
</div>
<div class="section" id="replace-python">
<h2>Replace Python</h2>
<p>It is recommended to create a new <code class="docutils literal notranslate"><span class="pre">conda</span></code> environment to make sure the python
version matches exactly what Blender expects.</p>
<div class="card">
    <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#replace_python_windows">Windows</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#replace_python_osx">OSX</a>
            </li>
        </ul>
    </div>
    <div class="card-body">
        <div class="tab-content"><div class="tab-pane active" id="replace_python_windows"><p>Open the command prompt and type the following to install a new python
environment with COMPAS:</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ conda config --add channels conda-forge
$ conda create -n blender <span class="nv">python</span><span class="o">=</span><span class="m">3</span>.7 COMPAS
$ conda activate blender
</code></pre></div>
</div>
<p>Now configure Blender to use the newly installed environment:</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ <span class="nb">cd</span> %PROGRAMFILES%<span class="se">\B</span>lender Foundation<span class="se">\B</span>lender<span class="se">\2</span>.80
$ ren python original_python
$ mklink /j python %CONDA_PREFIX%
</code></pre></div>
</div>
</div>
<div class="tab-pane" id="replace_python_osx"><p>Open the Terminal and type the following to install a new python
environment with COMPAS:</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ conda config --add channels conda-forge
$ conda create -n blender <span class="nv">python</span><span class="o">=</span><span class="m">3</span>.7 COMPAS
$ conda activate blender
</code></pre></div>
</div>
<p>Now configure Blender to use the newly installed environment:</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ <span class="nb">cd</span> /Applications/blender.app/Contents/Resources/2.80
$ mv python original_python
$ ln -s <span class="nv">$CONDA_PREFIX</span> python
</code></pre></div>
</div>
</div></div>
</div>
</div></div>
<div class="section" id="verify-setup">
<h2>Verify setup</h2>
<p>In Blender, you should now be able to use COMPAS packages without any problems.
Simply create and run the following script to verify everything is working properly.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="kn">import</span> <span class="nn">compas</span>

<span class="kn">from</span> <span class="nn">compas.datastructures</span> <span class="kn">import</span> <span class="n">Mesh</span>
<span class="kn">from</span> <span class="nn">compas_blender.artists</span> <span class="kn">import</span> <span class="n">MeshArtist</span>

<span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_obj</span><span class="p">(</span><span class="n">compas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;faces.obj&#39;</span><span class="p">))</span>

<span class="n">artist</span> <span class="o">=</span> <span class="n">MeshArtist</span><span class="p">(</span><span class="n">mesh</span><span class="p">)</span>

<span class="n">artist</span><span class="o">.</span><span class="n">draw_vertices</span><span class="p">()</span>
<span class="n">artist</span><span class="o">.</span><span class="n">draw_edges</span><span class="p">()</span>
<span class="n">artist</span><span class="o">.</span><span class="n">draw_faces</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="figure align-default">
<img alt="../../_images/blender_verify.png" class="figure-img img-fluid" src="../../_images/blender_verify.png" />
</div>
</div>
<div class="section" id="install-python-packages">
<h2>Install Python packages</h2>
<p>After replacing the embedded version of Python with the one in the virutual
environment, as instructed above, it is not necessary to activate the environment
before using Blender. However, when you want to update the installed packages,
or add more packages, make sure you do it for the Python in the virtual environment.
Otherwise, the changes will not have any effect.</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ conda activate blender
$ conda install ...
</code></pre></div>
</div>
</div>
<div class="section" id="start-blender">
<h2>Start Blender</h2>
<p>Both on Windows and Mac (for different reasons) Blender should be started from the command line.
By adding the Blender executable to the <cite>PATH</cite> variable this is really simple.</p>
<div class="card">
    <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#blender_start_windows">Windows</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#blender_start_osx">OSX</a>
            </li>
        </ul>
    </div>
    <div class="card-body">
        <div class="tab-content"><div class="tab-pane active" id="blender_start_windows"><p>Add the path to the Blender executable to your PATH in Environment Variables.</p>
<div class="nohighlight notranslate"><div class="highlight"><pre><code><span></span><span class="o">%</span><span class="n">PROGRAMFILES</span><span class="o">%</span>\<span class="n">Blender</span> <span class="n">Foundation</span>\<span class="n">Blender</span>
</code></pre></div>
</div>
</div>
<div class="tab-pane" id="blender_start_osx"><p>Add the following to your .bash_profile</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/Applications/blender.app/Contents/MacOS:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</code></pre></div>
</div>
</div></div>
</div>
</div><p>After that starting Blender from the command line is much simpler.</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ blender
</code></pre></div>
</div>
</div>
</div>

                    
                
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="grasshopper.html" title="Grasshopper"
             >next</a> |</li>
        <li class="right" >
          <a href="../cad.html" title="CAD Software"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">COMPAS 0.7.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../gettingstarted.html" >Getting started</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../cad.html" >CAD Software</a> &#187;</li> 
      </ul>
    </div> <footer class="compas-footer">
    
        
            &#169; Copyright Block Research Group - ETH Zurich.
        
    

    
        Last updated on Jul 16, 2019.
    

    
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    
</footer>

<script type="text/javascript">
var DOCUMENTATION_OPTIONS = {
    URL_ROOT          : '../../',
    VERSION           : '0.7.1',
    COLLAPSE_INDEX    : false,
    FILE_SUFFIX       : '.html',
    HAS_SOURCE        : 'false',
    SOURCELINK_SUFFIX : '.txt'
};
</script>

<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.0.0/anchor.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script>

<script src="../../_static/underscore.js"></script>
<script src="../../_static/doctools.js"></script>
<script src="../../_static/js/searchtools_.js"></script>
<script src="../../_static/js/prism.js"></script>

<script>
$(document).ready(function() {

    // $(".language-default pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-bash pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-python pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-c pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-cpp pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-fortran pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-markdown pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-rest pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    anchors.add();
});
</script> 
  </body>
</html>