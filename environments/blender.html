

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>COMPAS</title>

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    
        <meta name="author" content="Tom Van Mele" />
        <meta name="description" content="compas is a computational framework for research in architecture and structures." />

        <link rel="shortcut icon" href="../_static/images/compas.ico" type="image/x-icon">

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous" />

        <link rel="stylesheet" type="text/css" href="../_static/css/prism.css" />
        <link rel="stylesheet" type="text/css" href="../_static/css/compas.css" />
        <link rel="stylesheet" type="text/css" href="../_static/css/compas-reference.css" />

        
            <link rel="next" title="Working in Grasshopper" href="grasshopper.html" />
        
        
        
            <link rel="prev" title="Environments" href="../environments.html" />
        

        <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    </head>
    <body data-spy="scroll" data-target="#compas-localnav">

        <header class="navbar navbar-expand compas-navbar">
            <a class="navbar-brand" href="/">
                <img src="/_static/images/compas_icon_white.png" width="36px" height="36px" alt="compas" />
            </a>

            <ul class="navbar-nav">
                <li class="nav-item ">
                    <a class="nav-link " href="/">Home</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link active" href="/main/">Documentation</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link " href="/packages/">Packages</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" target="_blank" href="http://forum.compas-framework.org">Forum</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" target="_blank" href="https://github.com/compas-dev/compas/wiki">Developers</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" target="_blank" href="http://github.com/compas-dev">Github</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" target="_blank" href="https://pypi.org/project/COMPAS/">PyPI</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" target="_blank" href="https://anaconda.org/conda-forge/compas">Anaconda</a>
                </li>
            </ul>
        </header>
        
        <div class="container compas-container">
            <div class="row flex-xl-nowrap">

                <!-- main content -->

                

                <main class="col-12 col-md-9 col-xl-8 compas-content" role="main">

                

                    

                        

                        <div class="section" id="working-in-blender">
<h1>Working in Blender</h1>
<p>Blender ships with its own embedded version of Python but it is relatively
simple to replace it with the one you have COMPAS installed on.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following instructions are for Blender 2.79 which ships with
<strong>Pyhton 3.5.3</strong>, for other versions, update the python version accordingly.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We currently do not yet support Blender 2.8 with any of the released versions
of COMPAS. There is, however, a feature branch with some support for Blender
2.8 available directly from the Github repo.</p>
</div>
<div class="section" id="replace-python">
<h2>Replace Python</h2>
<p>It is recommended to create a new <code class="docutils literal notranslate"><span class="pre">conda</span></code> environment to make sure the python
version matches exactly what Blender expects.</p>
<p><strong>On Windows</strong></p>
<p>Open the command prompt and type the following to install a new python
environment with COMPAS:</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ conda config --add channels conda-forge
$ conda create -n blender-279 <span class="nv">python</span><span class="o">=</span><span class="m">3</span>.5.3 COMPAS
$ activate blender-279
</code></pre></div>
</div>
<p>Now configure Blender to use the newly installed environment:</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ <span class="nb">cd</span> %PROGRAMFILES%<span class="se">\B</span>lender Foundation<span class="se">\B</span>lender<span class="se">\2</span>.79
$ ren python original_python
$ mklink /j python %CONDA_PREFIX%
</code></pre></div>
</div>
<p><strong>On Mac</strong></p>
<p>Open the Terminal and type the following to install a new python
environment with COMPAS:</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ conda config --add channels conda-forge
$ conda create -n blender-279 <span class="nv">python</span><span class="o">=</span><span class="m">3</span>.5.3 COMPAS
$ <span class="nb">source</span> activate blender-279
</code></pre></div>
</div>
<p>Now configure Blender to use the newly installed environment:</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ <span class="nb">cd</span> /Applications/blender.app/Contents/Resources/2.79
$ mv python original_python
$ ln -s <span class="nv">$CONDA_PREFIX</span> python
</code></pre></div>
</div>
</div>
<div class="section" id="verify-setup">
<h2>Verify setup</h2>
<p>In Blender, you should now be able to use COMPAS packages without any problems.
Simply create and run the following script to verify everything is working properly.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="kn">import</span> <span class="nn">compas</span>

<span class="kn">from</span> <span class="nn">compas.datastructures</span> <span class="kn">import</span> <span class="n">Mesh</span>
<span class="kn">from</span> <span class="nn">compas_blender.artists</span> <span class="kn">import</span> <span class="n">MeshArtist</span>

<span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_obj</span><span class="p">(</span><span class="n">compas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;faces.obj&#39;</span><span class="p">))</span>

<span class="n">artist</span> <span class="o">=</span> <span class="n">MeshArtist</span><span class="p">(</span><span class="n">mesh</span><span class="p">)</span>

<span class="n">artist</span><span class="o">.</span><span class="n">draw_vertices</span><span class="p">()</span>
<span class="n">artist</span><span class="o">.</span><span class="n">draw_edges</span><span class="p">()</span>
<span class="n">artist</span><span class="o">.</span><span class="n">draw_faces</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="figure">
<img alt="../_images/blender_verify.png" class="figure-img img-fluid" src="../_images/blender_verify.png" />
</div>
</div>
<div class="section" id="install-python-packages">
<h2>Install Python packages</h2>
<p>After replacing the embedded version of Python with the one in the virutual
environment, as instructed above, it is not necessary to activate the environment
before using Blender. However, when you want to update the installed packages,
or add more packages, make sure you do it for the Python in the virtual environment.
Otherwise, the changes will not have any effect.</p>
<p><strong>On Windows</strong></p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ activate blender-279
$ conda install ...
</code></pre></div>
</div>
<p><strong>On Mac</strong></p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ <span class="nb">source</span> activate blender-279
$ conda install ...
</code></pre></div>
</div>
</div>
<div class="section" id="miscellaneous">
<h2>Miscellaneous</h2>
<p>For whatever reason, on Mac, the info bar that usually displays text output and
and error and info messages, will not produce any output of scripts.
To see the output of scripts, you have to start Blender from the Terminal such that
the output can be directed there…</p>
<p>To avoid having to navigate to the Blender executable evey time you want to do this,
you could add the path to the executable to your system <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable.
In your <code class="docutils literal notranslate"><span class="pre">~/.bash_profile</span></code> add the following.</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/Applications/blender.app/Contents/MacOS:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</code></pre></div>
</div>
<p>After that starting Blender from the command line is much simpler.</p>
<div class="language-bash notranslate"><div class="highlight"><pre><code><span></span>$ blender
</code></pre></div>
</div>
<p>And all output from the scripts you run will appear in the Terminal window…</p>
</div>
</div>

                        
                    

                </main>

                

                <!-- site navigation sidebar -->

                <div class="col-12 col-md-3 col-xl-2 compas-sidebar" role="navigation"> 
                    <div class="navbar-light">

                        <form id="" class="d-flex compas-searchbox" action="../search.html" method="get">
                            <input class="form-control" type="text" name="q" placeholder="Search docs" />
                            <input type="hidden" name="check_keywords" value="yes" />
                            <input type="hidden" name="area" value="default" />

                            <button class="navbar-toggler d-md-none compas-navigation-toggler" type="button" data-toggle="collapse" data-target="#compas-navigation" aria-controls="compas-navigation" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                        </form>

                        
                        

                            <div class="navbar-expand-md">
                                <div id="compas-navigation" class="collapse navbar-collapse compas-navigation">

                                <ul class="nav flex-column active">
<li class="nav-item"><a class="nav-link reference internal" href="../overview.html">Overview</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../gettingstarted.html">Getting started</a></li>
<li class="nav-item active"><a class="nav-link reference internal" href="../environments.html">Environments</a><ul class="nav active">
<li class="nav-item active"><a class="nav-link active current reference internal" href="#">Working in Blender</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="grasshopper.html">Working in Grasshopper</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="rhino.html">Working in Rhino</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="sublimetext.html">Sublime Text</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="vscode.html">Visual Studio Code</a></li>
</ul>
</li>
<li class="nav-item"><a class="nav-link reference internal" href="../examples.html">Examples</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../api.html">API Reference</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../contributions.html">Contributions</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../citing.html">Citing</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../license.html">License</a></li>
</ul>


                                </div>
                            </div>

                        

                    </div>
                </div>

                <!-- table of contents of main content -->

                <div class="d-none d-xl-block col-xl-2 compas-toc" role="toc">

                    

                    <ul class="nav flex-column" id="compas-localnav">
<li class="nav-item"><a class="nav-link reference internal" href="#">Working in Blender</a><ul class="nav">
<li class="nav-item"><a class="nav-link reference internal" href="#replace-python">Replace Python</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#verify-setup">Verify setup</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#install-python-packages">Install Python packages</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
</ul>


                </div>

                

            </div>
        </div>

        <footer class="compas-footer">
            
                
                    &#169; Copyright Block Research Group - ETH Zurich.
                
            

            
                Last updated on Mar 08, 2019.
            

            
                Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
            
        </footer>

        

            <script type="text/javascript">
var DOCUMENTATION_OPTIONS = {
    URL_ROOT          : '',
    VERSION           : '0.4.23',
    COLLAPSE_INDEX    : false,
    FILE_SUFFIX       : '.html',
    HAS_SOURCE        : 'false',
    SOURCELINK_SUFFIX : '.txt'
};
            </script>

            <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>

            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
            
            <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.0.0/anchor.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script>

            <script src="../_static/underscore.js"></script>
            <script src="../_static/doctools.js"></script>
            <script src="../_static/js/searchtools_.js"></script>
            <script src="../_static/js/prism.js"></script>

            <script>
$(document).ready(function() {

    // $(".language-default pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-bash pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-python pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-c pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-cpp pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-fortran pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-markdown pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-rest pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    anchors.add();
});
            </script>

        
    </body>
</html>