<!DOCTYPE html>
<html lang="en">
<head>
    <title>COMPAS - Meshes</title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <meta name="author" content="Tom Van Mele" />
    <meta name="description" content="compas is a computational framework for research in architecture and structures." />

    <link rel="shortcut icon" href="../_static/images/compas.ico" type="image/x-icon">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.9/styles/default.min.css">
    <!-- <link rel="stylesheet" type="text/css" href="../_static/css/prism.css" /> -->
    <link rel="stylesheet" type="text/css" href="../_static/css/compas.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/compas-reference.css" />

    
        <link rel="next" title="Serialization" href="serialization.html" />
    
    
    
        <link rel="prev" title="Networks" href="networks.html" />
    

    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>

</head>

<body data-spy="scroll" data-target="#compas-localnav">

    <nav class="navbar navbar-expand compas-navbar">
        <a class="navbar-brand" href="/">
            <img src="../_static/images/compas_icon_white.png" width="36px" height="36px" alt="compas" />
        </a>

        <ul class="navbar-nav">
            <li class="nav-item active"><a class="nav-link" href="index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="/packages.html">Packages</a></li>
            <li class="nav-item active"><a class="nav-link active" href="/main/index.html">Documentation</a></li>
            <li class="nav-item"><a class="nav-link" href="examples.html">Examples</a></li>
            <li class="nav-item"><a class="nav-link" href="devguide.html">Developer&nbsp;Guide</a></li>
            <li class="nav-item"><a class="nav-link" href="workshops.html">Workshops</a></li>
        </ul>

        <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a class="nav-link" target="_blank" href="http://forum.compas-framework.org">Forum</a></li>
            <li class="nav-item"><a class="nav-link" target="_blank" href="http://github.com/compas-dev">Github</a></li>
            <li class="nav-item"><a class="nav-link" target="_blank" href="https://pypi.org/project/COMPAS/">PyPI</a></li>
            <li class="nav-item"><a class="nav-link" target="_blank" href="https://anaconda.org/conda-forge/compas">Anaconda</a></li>
        </ul>
    </nav>
    
    <div class="container-fluid">
        <div class="row flex-xl-nowrap">

            <main class="col-12 col-md-9 col-xl-8 compas-content" role="main">
                <div class="container">
                

                    

                    <div class="section" id="meshes">
<h1>Meshes</h1>
<p>COMPAS meshes are polygon meshes with support for n-sided polygonal
faces. the meshes are presented using a half-edge data structure. In a
half-edge data structure, each edge is composed of two half-edges with
opposite orientation. Each half-edge is part of exactly one face, unless
it is on the boundary. An edge is thus incident to at least one face and
at most to two. The half-edges of a face form a continuous cycle,
connecting the vertices of the face in a specific order forming a closed
n-sided polygon. The ordering of the vertices determines the direction
of its normal.</p>
<p>Check out the docs for detailed information about the mesh and the available
functionality: <a class="reference internal" href="../api/generated/compas.datastructures.Mesh.html#compas.datastructures.Mesh" title="compas.datastructures.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">compas.datastructures.Mesh</span></code></a>.</p>
<div class="section" id="making-a-mesh">
<h2>Making a mesh</h2>
<div class="doctest language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">compas.datastructures</span> <span class="kn">import</span> <span class="n">Mesh</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">()</span>
</code></pre></div>
</div>
</div>
<div class="section" id="adding-vertices-and-faces">
<h2>Adding vertices and faces</h2>
<div class="doctest language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="doctest language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">add_face</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">])</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Edges cannot be added explicitly. They are added automatically when
faces are added.</p>
</div>
</div>
<div class="section" id="identifiers">
<h2>Identifiers</h2>
<p>All vertices of a mesh have a unique ID, the “key” of the vertex. By
default, keys are integers, and every vertex is assigned a number
corresponding to the order in which it is added. The number is always
the highest number used so far, plus one.</p>
<div class="doctest language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">0 &lt;class &#39;int&#39;&gt;</span>
</code></pre></div>
</div>
<div class="doctest language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">==</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">1</span>
<span class="go">True</span>
</code></pre></div>
</div>
<p>IDs can also be assigned explicitly, as integers or as any other <em>hashable</em>
type.</p>
<p>Faces are also assigned a unique id. As with vertices, keys are integers
by default, but any other <em>hashable</em> type can be assigned explicitly.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="go">0 &lt;class &#39;int&#39;&gt;</span>
</code></pre></div>
</div>
</div>
<div class="section" id="constructors">
<h2>Constructors</h2>
<p>Meshes can be constructed from data contained in files. Currently, the
following formats are supported: <code class="docutils literal notranslate"><span class="pre">obj</span></code>, <code class="docutils literal notranslate"><span class="pre">ply</span></code>, <code class="docutils literal notranslate"><span class="pre">stl</span></code>.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_obj</span><span class="p">(</span><span class="s1">&#39;faces.obj&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_ply</span><span class="p">(</span><span class="s1">&#39;bunny.ply&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_stl</span><span class="p">(</span><span class="s1">&#39;cube.stl&#39;</span><span class="p">)</span>
</code></pre></div>
</div>
<p>COMPAS provides a set of sample files that can be used during development,
or simply to make examples like the ones in this tutorial.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_obj</span><span class="p">(</span><span class="n">compas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;faces.obj&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_ply</span><span class="p">(</span><span class="n">compas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bunny.ply&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_stl</span><span class="p">(</span><span class="n">compas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cube.stl&#39;</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
<div class="section" id="data">
<h2>Data</h2>
<p>All data accessors return objects that are meant to be iterated over
(dictionary key iterators or generator objects). Storing the data in
lists that can be reused multiple times must be done explicitly.</p>
<div class="section" id="iteration">
<h3>Iteration</h3>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
<span class="go">&lt;dict_keyiterator at 0x60d74f278&gt;</span>
</code></pre></div>
</div>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vertices</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">0</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="gp">...</span>
<span class="go">32</span>
<span class="go">33</span>
<span class="go">34</span>
<span class="go">35</span>
</code></pre></div>
</div>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">faces</span><span class="p">()</span>
<span class="go">&lt;generator object Mesh.faces at 0x60d723e08&gt;</span>
</code></pre></div>
</div>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">faces</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">0</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="gp">...</span>
<span class="go">21</span>
<span class="go">22</span>
<span class="go">23</span>
<span class="go">24</span>
</code></pre></div>
</div>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="go">&lt;generator object Mesh.edges at 0x60d723a98&gt;</span>
</code></pre></div>
</div>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">edges</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">(0, 1)</span>
<span class="go">(0, 6)</span>
<span class="go">(1, 7)</span>
<span class="go">(1, 2)</span>
<span class="gp">...</span>
<span class="go">(31, 32)</span>
<span class="go">(32, 33)</span>
<span class="go">(33, 34)</span>
<span class="go">(34, 35)</span>
</code></pre></div>
</div>
</div>
<div class="section" id="lists">
<h3>Lists</h3>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">vertices</span><span class="p">())</span>
<span class="go">[0, 1, 2, 3, ... 32, 33, 34, 35]</span>
</code></pre></div>
</div>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">faces</span><span class="p">())</span>
<span class="go">[0, 1, 2, 3, ... 21, 22, 23, 24]</span>
</code></pre></div>
</div>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">edges</span><span class="p">())</span>
<span class="go">[(0, 1), (0, 6), (1, 7), (1, 2), ... (31, 32), (32, 33), (33, 34), (34, 35)]</span>
</code></pre></div>
</div>
</div>
</div>
<div class="section" id="attributes">
<h2>Attributes</h2>
<p>All vertices, faces, and edges automatically have the default attributes
specified by the mesh class. The default vertex attributes are xyz
coordinates, with <code class="docutils literal notranslate"><span class="pre">x=0</span></code>, <code class="docutils literal notranslate"><span class="pre">y=0</span></code>, and <code class="docutils literal notranslate"><span class="pre">z=0</span></code>. Edges and faces have no
default attributes.</p>
<p>To change the default attributes, do:</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">update_default_vertex_attributes</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">is_fixed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">update_default_face_attributes</span><span class="p">(</span><span class="n">is_loaded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">update_default_edge_attributes</span><span class="p">(</span><span class="n">q</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="section" id="getting-attributes">
<h3>Getting attributes</h3>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">get_vertex_attribute</span><span class="p">(</span><span class="n">mesh</span><span class="o">.</span><span class="n">get_any_vertex</span><span class="p">(),</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">2.0</span>
</code></pre></div>
</div>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">get_vertices_attribute</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">[0.0, 2.0, 4.0, 6.0, ... 4.0, 6.0, 8.0, 10.0]</span>
</code></pre></div>
</div>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">get_vertices_attributes</span><span class="p">(</span><span class="s1">&#39;xyz&#39;</span><span class="p">)</span>
<span class="go">[[0.0, 0.0, 0.0], [2.0, 0.0, 0.0], [4.0, 0.0, 0.0], [6.0, 0.0, 0.0],</span>
<span class="gp">...</span>
<span class="go">[4.0, 10.0, 0.0], [6.0, 10.0, 0.0], [8.0, 10.0, 0.0], [10.0, 10.0, 0.0]]</span>
</code></pre></div>
</div>
</div>
<div class="section" id="setting-attributes">
<h3>Setting attributes</h3>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">set_vertex_attribute</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;is_fixed&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">set_vertex_attributes</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;is_fixed&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">),</span> <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">set_vertices_attribute</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">set_vertices_attributes</span><span class="p">((</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;is_fixed&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
</div>
<div class="section" id="connectivity">
<h2>Connectivity</h2>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vertices</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;(neighbors)&quot;</span><span class="p">,</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vertex_neighbors</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;(faces)&quot;</span><span class="p">,</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vertex_faces</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">0 (neighbors) [6, 1]</span>
<span class="go">0 (faces) [0]</span>
<span class="go">1 (neighbors) [0, 7, 2]</span>
<span class="go">1 (faces) [0, 1]</span>
<span class="go">2 (neighbors) [1, 8, 3]</span>
<span class="go">2 (faces) [1, 2]</span>
<span class="go">3 (neighbors) [2, 9, 4]</span>
<span class="go">3 (faces) [2, 3]</span>
<span class="gp">...</span>
<span class="go">32 (neighbors) [33, 26, 31]</span>
<span class="go">32 (faces) [22, 21]</span>
<span class="go">33 (neighbors) [34, 27, 32]</span>
<span class="go">33 (faces) [23, 22]</span>
<span class="go">34 (neighbors) [35, 28, 33]</span>
<span class="go">34 (faces) [24, 23]</span>
<span class="go">35 (neighbors) [29, 34]</span>
<span class="go">35 (faces) [24]</span>
</code></pre></div>
</div>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">fkey</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">faces</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">fkey</span><span class="p">,</span> <span class="s2">&quot;(vertices)&quot;</span><span class="p">,</span> <span class="n">mesh</span><span class="o">.</span><span class="n">face_vertices</span><span class="p">(</span><span class="n">fkey</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">fkey</span><span class="p">,</span> <span class="s2">&quot;(half-edges)&quot;</span><span class="p">,</span> <span class="n">mesh</span><span class="o">.</span><span class="n">face_halfedges</span><span class="p">(</span><span class="n">fkey</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">fkey</span><span class="p">,</span> <span class="s2">&quot;(neighbors)&quot;</span><span class="p">,</span> <span class="n">mesh</span><span class="o">.</span><span class="n">face_neighbors</span><span class="p">(</span><span class="n">fkey</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">0 (vertices) [0, 1, 7, 6]</span>
<span class="go">0 (half-edges) [(0, 1), (1, 7), (7, 6), (6, 0)]</span>
<span class="go">0 (neighbors) [1, 5]</span>
<span class="go">1 (vertices) [1, 2, 8, 7]</span>
<span class="go">1 (half-edges) [(1, 2), (2, 8), (8, 7), (7, 1)]</span>
<span class="go">1 (neighbors) [2, 6, 0]</span>
<span class="go">2 (vertices) [2, 3, 9, 8]</span>
<span class="go">2 (half-edges) [(2, 3), (3, 9), (9, 8), (8, 2)]</span>
<span class="go">2 (neighbors) [3, 7, 1]</span>
<span class="go">3 (vertices) [3, 4, 10, 9]</span>
<span class="go">3 (half-edges) [(3, 4), (4, 10), (10, 9), (9, 3)]</span>
<span class="go">3 (neighbors) [4, 8, 2]</span>
<span class="gp">...</span>
<span class="go">21 (vertices) [25, 26, 32, 31]</span>
<span class="go">21 (half-edges) [(25, 26), (26, 32), (32, 31), (31, 25)]</span>
<span class="go">21 (neighbors) [16, 22, 20]</span>
<span class="go">22 (vertices) [26, 27, 33, 32]</span>
<span class="go">22 (half-edges) [(26, 27), (27, 33), (33, 32), (32, 26)]</span>
<span class="go">22 (neighbors) [17, 23, 21]</span>
<span class="go">23 (vertices) [27, 28, 34, 33]</span>
<span class="go">23 (half-edges) [(27, 28), (28, 34), (34, 33), (33, 27)]</span>
<span class="go">23 (neighbors) [18, 24, 22]</span>
<span class="go">24 (vertices) [28, 29, 35, 34]</span>
<span class="go">24 (half-edges) [(28, 29), (29, 35), (35, 34), (34, 28)]</span>
<span class="go">24 (neighbors) [19, 23]</span>
</code></pre></div>
</div>
</div>
<div class="section" id="geometry">
<h2>Geometry</h2>
<p>There are many functions for inspecting the geometry of the mesh.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.vertex_coordinates</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.vertex_normal</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.vertex_laplacian</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.edge_length</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.edge_point</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.edge_vector</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.edge_direction</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.face_centroid</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.face_normal</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.face_plane</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.face_frame</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mesh.face_area</span></code></p></li>
</ul>
</div>
<div class="section" id="serialisation">
<h2>Serialisation</h2>
<p>A COMPAS mesh can be converted to a data dict that contains
all the information required to recreate an instance of the
type class:<cite>compas.datastructures.Mesh</cite> without loss of information.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">to_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_data</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
</div>
<p>This data can be serialised to various formats such that
it can be stored in a file and saved for later use.</p>
<div class="section" id="json">
<h3>Json</h3>
<p>The <code class="docutils literal notranslate"><span class="pre">JSON</span></code> format is used by <a class="reference internal" href="../api/compas.rpc.html#module-compas.rpc" title="compas.rpc"><code class="xref py py-mod docutils literal notranslate"><span class="pre">compas.rpc</span></code></a> and <code class="xref py py-mod docutils literal notranslate"><span class="pre">compas.remote</span></code>,
which is still under construction, to send data back and forth
between a client and a remote service.</p>
<p>In case of <code class="xref py py-class docutils literal notranslate"><span class="pre">compas.utilities.XFunc</span></code>, <code class="docutils literal notranslate"><span class="pre">JSON</span></code> is used to comunicate
with a CPython subprocess.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s1">&#39;mesh.json&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="s1">&#39;mesh.json&#39;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
<div class="section" id="pickle">
<h3>Pickle</h3>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="s1">&#39;mesh.pickle&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;mesh.pickle&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">dumps</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<div class="section" id="visualisation">
<h2>Visualisation</h2>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span> <span class="kn">import</span> <span class="nn">compas</span>
 <span class="kn">from</span> <span class="nn">compas.datastructures</span> <span class="kn">import</span> <span class="n">Mesh</span>
 <span class="kn">from</span> <span class="nn">compas_plotters</span> <span class="kn">import</span> <span class="n">MeshPlotter</span>

 <span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="o">.</span><span class="n">from_obj</span><span class="p">(</span><span class="n">compas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;faces.obj&#39;</span><span class="p">))</span>

 <span class="n">plotter</span> <span class="o">=</span> <span class="n">MeshPlotter</span><span class="p">(</span><span class="n">mesh</span><span class="p">)</span>

 <span class="n">plotter</span><span class="o">.</span><span class="n">draw_vertices</span><span class="p">(</span>
     <span class="n">facecolor</span><span class="o">=</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="s1">&#39;#ff0000&#39;</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vertices_on_boundary</span><span class="p">()},</span>
     <span class="n">radius</span><span class="o">=</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="mf">0.2</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vertices_on_boundary</span><span class="p">()},</span>
     <span class="n">text</span><span class="o">=</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">vertices_on_boundary</span><span class="p">()})</span>

 <span class="n">plotter</span><span class="o">.</span><span class="n">draw_edges</span><span class="p">(</span>
     <span class="n">color</span><span class="o">=</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="s1">&#39;#ff0000&#39;</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">edges_on_boundary</span><span class="p">()},</span>
     <span class="n">width</span><span class="o">=</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="mi">3</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">edges_on_boundary</span><span class="p">()})</span>

 <span class="n">plotter</span><span class="o">.</span><span class="n">draw_faces</span><span class="p">(</span>
     <span class="n">text</span><span class="o">=</span><span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">faces_on_boundary</span><span class="p">()})</span>

 <span class="n">plotter</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>








<span class="o">..</span> <span class="n">figure</span><span class="p">::</span> <span class="o">../../</span><span class="n">dist</span><span class="o">/</span><span class="n">docs</span><span class="o">/</span><span class="n">plot_directive</span><span class="o">/</span><span class="n">tutorial</span><span class="o">/</span><span class="n">meshes</span><span class="o">-</span><span class="mf">1.</span><span class="n">png</span>
   <span class="p">:</span><span class="n">class</span><span class="p">:</span> <span class="n">figure</span><span class="o">-</span><span class="n">img</span> <span class="n">img</span><span class="o">-</span><span class="n">fluid</span>

         





<span class="o">..</span> <span class="n">figure</span><span class="p">::</span> <span class="o">../../</span><span class="n">dist</span><span class="o">/</span><span class="n">docs</span><span class="o">/</span><span class="n">plot_directive</span><span class="o">/</span><span class="n">tutorial</span><span class="o">/</span><span class="n">meshes</span><span class="o">-</span><span class="mf">1.</span><span class="n">pdf</span>
   

         





<span class="o">..</span> <span class="n">image</span><span class="p">::</span> <span class="o">../../</span><span class="n">dist</span><span class="o">/</span><span class="n">docs</span><span class="o">/</span><span class="n">plot_directive</span><span class="o">/</span><span class="n">tutorial</span><span class="o">/</span><span class="n">meshes</span><span class="o">-</span><span class="mf">1.</span><span class="n">png</span>
</code></pre></div>
</div>
</div>
</div>

                    
                
                </div>
            </main>

            <!-- site navigation sidebar -->

            <div class="col-12 col-md-3 col-xl-2 compas-sidebar" role="navigation"> 
                <div class="navbar-light">

                    <form id="" class="d-flex compas-searchbox" action="../search.html" method="get">
                        <input class="form-control" type="text" name="q" placeholder="Search docs" />
                        <input type="hidden" name="check_keywords" value="yes" />
                        <input type="hidden" name="area" value="default" />

                        <button class="navbar-toggler d-md-none compas-navigation-toggler" type="button" data-toggle="collapse" data-target="#compas-navigation" aria-controls="compas-navigation" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </form>

                    
                    

                        <div class="navbar-expand-md">
                            <div id="compas-navigation" class="collapse navbar-collapse compas-navigation">

                            <ul class="nav flex-column active">
<li class="nav-item"><a class="nav-link reference internal" href="../overview.html">Overview</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../gettingstarted.html">Getting started</a></li>
<li class="nav-item active"><a class="nav-link reference internal" href="../tutorial.html">Tutorial</a><ul class="nav active">
<li class="nav-item"><a class="nav-link reference internal" href="basics.html">Basics</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="geometry.html">Geometry</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="networks.html">Networks</a></li>
<li class="nav-item active"><a class="nav-link active current reference internal" href="#">Meshes</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="serialization.html">Serialization</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="rpc.html">Remote Procedure Calls</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="callbacks.html">Callbacks</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="geomaps.html">Geometric Maps</a></li>
</ul>
</li>
<li class="nav-item"><a class="nav-link reference internal" href="../api.html">API Reference</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../contributing.html">Contributing</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../license.html">License</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../changelog.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../citing.html">Citing</a></li>
</ul>


                            </div>
                        </div>

                    

                </div>
            </div>

            <!-- table of contents of main content -->

            <div class="d-none d-xl-block col-xl-2 compas-toc" role="toc">

                

                <ul class="nav flex-column" id="compas-localnav">
<li class="nav-item"><a class="nav-link reference internal" href="#">Meshes</a><ul class="nav">
<li class="nav-item"><a class="nav-link reference internal" href="#making-a-mesh">Making a mesh</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#adding-vertices-and-faces">Adding vertices and faces</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#identifiers">Identifiers</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#constructors">Constructors</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#data">Data</a><ul class="nav">
<li class="nav-item"><a class="nav-link reference internal" href="#iteration">Iteration</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#lists">Lists</a></li>
</ul>
</li>
<li class="nav-item"><a class="nav-link reference internal" href="#attributes">Attributes</a><ul class="nav">
<li class="nav-item"><a class="nav-link reference internal" href="#getting-attributes">Getting attributes</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#setting-attributes">Setting attributes</a></li>
</ul>
</li>
<li class="nav-item"><a class="nav-link reference internal" href="#connectivity">Connectivity</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#geometry">Geometry</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#serialisation">Serialisation</a><ul class="nav">
<li class="nav-item"><a class="nav-link reference internal" href="#json">Json</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#pickle">Pickle</a></li>
</ul>
</li>
<li class="nav-item"><a class="nav-link reference internal" href="#visualisation">Visualisation</a></li>
</ul>
</li>
</ul>


            </div>

        </div>
    </div>

 <footer class="bg-dark pb-5">
    <div class="container text-center pt-5 pb-5 text-muted">
        
            
                &#169; Copyright Block Research Group - ETH Zurich.
            
        

        
            Last updated on Dec 16, 2019.
        

        
            Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.0.
        
    </div>
</footer>

<script type="text/javascript">
var DOCUMENTATION_OPTIONS = {
    URL_ROOT          : '',
    VERSION           : '0.13.0',
    COLLAPSE_INDEX    : false,
    FILE_SUFFIX       : '.html',
    HAS_SOURCE        : 'false',
    SOURCELINK_SUFFIX : '.txt'
};
</script>

<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.0.0/anchor.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.9/highlight.min.js"></script>

<script src="../_static/underscore.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/js/searchtools_.js"></script>
<!-- <script src="../_static/js/prism.js"></script> -->

<script>
$(document).ready(function() {
$(".language-default code").addClass("python");
$(".language-python code").addClass("python");
$(".language-bash code").addClass("bash");
$(".language-cpp code").addClass("cpp");
$(".language-json code").addClass("json");
$(".language-none code").addClass("plaintext");

hljs.initHighlighting();
anchors.add();
});
</script> 

</body>
</html>